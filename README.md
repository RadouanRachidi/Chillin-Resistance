# Chillin-Resistance

Pour cette application , nous avons √©t√© confront√© √† diff√©rentes probl√®matiques concernant la s√©curit√©. Nous avons mis en oeuvre un process d√©taill√© pour chaque grande partie importante que nous allons d√©crire ci-dessous.

# Strat√©gie de S√©curisation d'une applicationüîí

    Mesures visant √† emp√™cher le vol ou le piratage des donn√©es.

************************************************************************************************************

# a \ Sauvegarde
     Nous avons utilis√© la sauvegaSimon-Libert/Chillin-Resistancerde (backup en anglais) pour dupliquer et √† mettre en s√©curit√© les donn√©es contenues dans le base de donn√©e de la'application.

    Pour realiser l'objectif de la sauvegarde, nous avons utilis√© la strat√©gie de sauvegarde la pluce efficace (La strat√©gie de sauvegarde 3-2-1).

# Nos sauvegardes gr√¢ce √† la strat√©gie 3-2-1(3-2-1 backup rules):
     # La strat√©gie de sauvegarde 3-2-1 est compos√©e de trois r√®gles, elles sont les suivantes :

     * Trois copies de donn√©es - Cela inclut les donn√©es d'origine et au moins deux sauvegardes.

     * Deux types de stockage diff√©rents - Les deux copies des donn√©es sauvegard√©es doivent √™tre conserv√©es sur deux types de stockage distincts afin de minimiser les risques d'√©chec. Les types de stockage peuvent inclure un disque dur interne, un disque dur externe, un lecteur de stockage amovible ou un environnement de sauvegarde dans le cloud.t.

    * Une copie hors site - Au moins une copie de donn√©es doit √™tre stock√©e dans un emplacement hors site ou distant pour garantir que les catastrophes naturelles ou g√©ographiques ne peuvent pas affecter toutes les copies de donn√©es

# c\ Jornalisation
      Pour assurer la s√©curit√© des traitements et la tra√ßabilit√© des acc√®s et des actions des utilisateurs , nous allons enregistrer dans des ¬´ fichiers journaux ¬ª ou (¬´ logs ¬ª) des activit√©s des utilisateurs, des anomalies et des √©v√©nements li√©s √† la s√©curit√©. Obligation pos√©e √† l‚Äôarticle 5 du RGPD, fortement recommand√© par CNIL(a Commission nationale de l‚Äôinformatique et des libert√©s)


# d\ Audit: qu‚Äôest-ce que l'Audit ?
    Pour garder un oeil sur touts les utilisar de l'application, nous allons utiliser AUDIT de base de donn√©es, est un contr√¥le de s√©curit√© de base de donn√©es impliquant plusieurs aspects de surveillance. Il permet aux administrateurs de contr√¥ler l'acc√®s, de savoir qui utilise la base de donn√©es et ce que les utilisateurs font avec la base de donn√©es.


# e\ D√©fense en profondeur:
    Pour assurer la securit√© de l'application, nous allons appliquer La d√©fense en profondeur (DiD) est une approche de la cybers√©curit√© dans laquelle une s√©rie de m√©canismes d√©fensifs sont superpos√©s afin de prot√©ger les donn√©es et informations pr√©cieuses. Si un m√©canisme √©choue, un autre intervient imm√©diatement pour contrecarrer une attaque

    # √Ä quoi ressemble-t-il dans?

        - Endpoint security
        - wifif security
        - Database security
        - Browser security 
        - Email security
        - network access control 


# f\ R√©duction de la surface d‚Äôattaque:

     Nous allons r√©duire la surface d'attaque est le nombre de tous les points possibles, ou vecteurs d'attaque, o√π un utilisateur non autoris√© peut acc√©der √† un syst√®me et extraire des donn√©es. Plus la surface d'attaque est petite, plus il est facile de prot√©ger

     #La surface d'attaque est divis√©e en deux cat√©gories :
      
         1\ Surface d'attaque num√©rique:
            La surface d'attaque num√©rique englobe tout le mat√©riel et les logiciels qui se connectent au r√©seau d'une organisation. Il s'agit notamment des applications, du code, des ports, des serveurs et des sites Web ...

        2\Surface d'attaque physique:
            La surface d'attaque physique comprend tous les endpoint ou un attaquant peut obtenir un acc√®s physique, comme  ordinateurs de bureau, disques durs, ordinateurs portables, t√©l√©phones mobiles et lecteurs Universal Serial Bus (USB)

# g\ Moindres priviliges:  qu‚Äôest-ce que la moindres priviliges ?
  Nous allons appliquer principe du moindre privil√®ge (PoLP), qui fait r√©f√©rence √† un concept de s√©curit√© de l'information dans lequel un utilisateur re√ßoit les niveaux minimaux d'acc√®s - ou d'autorisations - n√©cessaires.

 #Comment mettre en ≈ìuvre le moindre privil√®ge?
    - Auditez l'environnement pour localiser les comptes privil√©gi√©s 
    - √âliminez les privil√®ges d'administrateur local inutiles et assurez-vous que tous les utilisateurs  disposent uniquement des privil√®ges n√©cessaires pour effectuer leur travail.

# h\ RBAC (Contr√¥le d‚Äôacc√®s bas√© sur les r√¥les):
     Nous allons appliquer le concept Contr√¥le d‚Äôacc√®s bas√© sur les r√¥les (RBAC), est un concept de s√©curit√© du r√©seau selon lequel le r√©seau accorde des droits aux utilisateurs en fonction de leur r√¥le dans l‚Äôentreprise. 

     #RBAC : une mise en ≈ìuvre en 3 √©tapes:
        - D√©finissez les ressources et services que vous fournissez √† vos utilisateurs .
        - Cr√©ez une biblioth√®que de r√¥les : faites correspondre les descriptions de postes aux ressources d√©finies √† l‚Äô√©tape 1 n√©cessaires √† la r√©alisation de leur mission
       -  Affectez les utilisateurs aux r√¥les d√©finis.

# i\ RGPD (Le R√®glement G√©n√©ral sur la Protection des Donn√©es):
Nous allons appliquer les R√®glements (UE) 2016/679 du Parlement europ√©en et du Conseil du 27 avril 2016, relatif √† la protection des personnes physiques √† l'√©gard du traitement des donn√©es √† caract√®re personnel et √† la libre circulation de ces donn√©es.


#RGPD : comment se mettre en conformit√© ?
#Il y a 4 √©tapes de mise en conformit√© √† la loi RGPD.

Etape 1 : Constituer un registre des traitements (Journalisation)
    Ce registre vous permettra de recenser vos fichiers, tout en effectuant un suivi r√©gulier de leur utilisation. Plac√© sous la responsabilit√© du dirigeant de l‚Äôentreprise, ce registre doit pouvoir √™tre mis √† jour r√©guli√®rement, avec l‚Äôaide des personnes charg√©es de la collecte des donn√©es.

    √Ä noter que les PME de moins de 250 salari√©s ne sont pas dans l‚Äôobligation de tenir ce registre, bien que celles-ci soient concern√©es par la r√©glementation RGPD.

Etape 2 : Trier les donn√©es
    Ne prenez pas la mauvaise habitude d‚Äôaccumuler. Vous r√©coltez des milliers de donn√©es, mais demandez-vous si ces derni√®res ont un r√©el int√©r√™t pour le d√©veloppement de votre activit√©. Ensuite, v√©rifiez que vous n‚Äôutilisez pas des donn√©es dites ¬´ sensibles ¬ª et si c‚Äôest le cas v√©rifiez que vous en avez le consentement (comme le pr√©voit la loi RGPD).

Etape 3 : Respecter le droit des personnes
     Depuis l‚Äôentr√©e en vigueur de la loi RGPD 2018, vous avez un devoir d‚Äôinformation et de transparences concernant la collecte et la transmission des donn√©es √† caract√®re personnel.

    Pour ce faire, vous devez imp√©rativement :

    - Expliquer la raison de cette collecte de donn√©es,

    - Demander le consentement de chaque utilisateur,

    - Indiquer qui aura acc√®s √† ces donn√©es et pour combien de temps, - D√©tailler les modalit√©s selon lesquelles les personnes pourront exercer leurs droits d‚Äôeffacement ou de modification par exemple,

    - Si ces donn√©es r√©colt√©es sont susceptibles de sortir de la zone europ√©enne.

Etape 4 : S√©curiser les donn√©es
    V√©rifiez que les donn√©es collect√©es soient suffisamment prot√©g√©es des piratages et autres d√©convenues informatiques. Changez r√©guli√®rement vos mots de passe, faites les mises √† jour sur les antivirus, ne confiez pas l‚Äôacc√®s des donn√©es √† n‚Äôimporte qui ‚Ä¶ Des choses simples qui sont malheureusement parfois n√©glig√©es dans les petites entreprises. Le danger ne se mesurant pas au nombre de salari√©s, garder √† l‚Äôesprit que ces donn√©es sensibles sont une mine d‚Äôor que beaucoup de personnes aimeraient s‚Äôapproprie


# j\ Cookies
Nous allons utiliser les cookies pour avoir des informations sur les pr√©f√©rences de la personne qui visite le site, et aussi pour reconnaitre et conserver des informations, par exemple le choix de la langue, les identifiants de connexion, les pages consult√©es ou par exemple le contenu d‚Äôun panier, aussi pour obtenir des statistiques sur le site web en question 



************************************************************************************************************

## Les requ√™tes et la s√©curisation de l'API

En ce qui concerne les requ√™tes http, nous allons mettre en place un syst√®me de s√©curisation qui va permettre d'√©viter certaines attaques cibles, compte tenu du fait que le client va en permanence faire des requ√™tes vers nos APIs (application programming interface que l'on va cr√©er afin d'appeler √† la demande du client - lors du visionnage d'une vid√©o - les vid√©os stock√©es)lors des visionnages des diff√©rents cours propos√©s : 

- Cela commence par la configuration des **CORS** (Cross-origin resource sharing
 ou partage des ressources entre origines multiples) : 
 C'est un m√©canisme qui consiste √† ajouter des en-t√™tes HTTP afin de permettre √† 
un agent utilisateur d'acc√©der √† des ressources d'un serveur situ√© sur 
une autre origine que le site courant. Un agent utilisateur r√©alise une 
requ√™te HTTP **multi-origine (*cross-origin*)** lorsqu'il demande une ressource provenant d'un domaine, d'un protocole ou d'un port diff√©rent de ceux utilis√©s pour la page courante.

Le CORS permet de prendre en charge des requ√™tes multi-origines 
s√©curis√©es et des transferts de donn√©es entre des navigateurs et des 
serveurs web. Les navigateurs r√©cents utilisent le CORS dans une API 
contenante comme `[XMLHttpRequest](https://developer.mozilla.org/fr/docs/Web/API/XMLHttpRequest)`
 ou `[Fetch](https://developer.mozilla.org/fr/docs/Web/API/Fetch_API)`
 pour aider √† r√©duire les risques de requ√™tes HTTP multi-origines.

- exemple de requ√™te fetch vers une api : 

```
export const getEventById = async (id, token) => {
  const res = await fetch(
    `${process.env.NEXT_PUBLIC_API_URL}/events/${id}`,
    {
      method: 'GET',
      headers: {
        'Content-Type': 'application/json',
        Authorization: 'Bearer ' + token
      }
    }
  )
  const data = await res.json()
  return data.event}

```

On remarque que lors de notre requ√™te nous configuronsle type de content, ainsi que le passage d'un token (une clef chiffr√©e) afin de s√©curis√© l'appel API. Puis une r√©ponse est attendue.

On met √©galement en place les SOP : same origin policy. Nous v√©rifions que deux pages ont la m√™me origine si le protocole - HTTP -, le port (si sp√©cifi√©) et l'h√¥te - store.company -sont les m√™mes pour les deux pages. Le tableau suivant pr√©sente des comparaisons d'origines pour l'URL

exemple : 

| http://store.company.com/dir2/other.html | Succ√®s |  |
| --- | --- | --- |
| http://store.company.com/dir/inner/another.html | Succ√®s |  |
| https://store.company.com/secure.html | √âchec | Protocoles diff√©rents |
| http://store.company.com:81/dir/etc.html | √âchec | Ports diff√©rents |
| http://news.company.com/dir/other.html | √âchec | H√¥tes diff√©rents |

La mise en place de requ√™te HTTP permet aussi d'√©laborer une strat√©gie de s√©curisation de contenu : le CSP que l'on place dans l'ent√™te de la requ√™te - dans le HEADER -.

**D'ailleurs la mise en place d'un CSP permet √©galement de r√©duire l'impact des requ√™tes silencieuses via CSP** - voir [requ√™tes silencieuses][] -

Aujourd'hui la norme pour les requ√™tes HTTP est l'ajout du **HSTS** qui fait la transmission d‚Äôun en-t√™te HTTP lors de l‚Äôacc√®s au site en HTTPS pour assurer son int√©grit√©.

Il est obligatoire de poss√©der le protocole **HTTPS** afin de garantir la s√©curit√© des donn√©es et de l'utilisation de l'application √† l'utilisateur. La mise en place de HTTPS a pour objectif :
‚ñ† de garantir, autant que possible, l‚Äôauthenticit√© du site consult√© ;
‚ñ† de garantir √©galement l‚Äôint√©grit√© et la confidentialit√© des donn√©es √©chang√©es en bloquant les
attaques de type Man-In-The-Middle (√©coute, interception ou modification des √©changes √† la
vol√©e par des tiers, √† l‚Äôinsu de l‚Äôutilisateur).

Nous utiliserons √©galement le protocole TLS, un protocole important de communication sur les r√©seaux et internet. Il permet une communication chiffr√©e entre un client et un serveur. Les donn√©es applicatives sont encapsul√©es de mani√®re √† assurer la confidentialit√© et l‚Äôint√©grit√© des √©changes. Le serveur est n√©cessairement authentifi√©, et des fonctions additionnelles permettent l‚Äôauthentification du client lorsqu‚Äôun tel besoin a √©t√© identifi√©.C‚Äôest un protocole en poign√©e de main (Handshake) car le client et le serveur¬†**n√©gocie la connexion TLS**.
TLS est utilis√© pour¬†la connexion des sites HTTPS. Mais depuis, on trouve des d√©clinaisons par exemple avec¬†les protocoles POP ou SMTP¬†pour les serveurs mails (MTA).

**S√©curisation d‚ÄôAPI :**

Les fonctionnalit√©s des API Web sont soumises aux m√™mes 
consid√©rations de s√©curit√© que JavaScript et les autres technologies web
 (par exemple [same-origin policy](https://developer.mozilla.org/fr/docs/Web/Security/Same-origin_policy)),
 mais elles disposent parfois de m√©canismes de s√©curit√© suppl√©mentaires.
 Par exemple, certaines des API Web les plus modernes ne fonctionneront 
que sur des pages servies par HTTPS, car elles transmettent des donn√©es 
potentiellement sensibles (par exemple [Service Workers](https://developer.mozilla.org/fr/docs/Web/API/Service_Worker_API) et [Push](https://developer.mozilla.org/fr/docs/Web/API/Push_API)).

En outre, certaines API Web demandent la permission d'√™tre activ√©es √†
 l'utilisateur une fois que les appels √† ces interfaces sont effectu√©s 
dans votre code. √Ä titre d'exemple, l'API [Notifications API](https://developer.mozilla.org/fr/docs/Web/API/Notifications_API) demande la permission √† l'aide d'une bo√Æte de dialogue contextuelle :

![https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Client-side_web_APIs/Introduction/notification-permission.png](https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Client-side_web_APIs/Introduction/notification-permission.png)

Les API Web Audio et `[HTMLMediaElement](https://developer.mozilla.org/fr/docs/Web/API/HTMLMediaElement)`
 sont soumises √† un m√©canisme de s√©curit√© appel√© [autoplay policy (en-US)](https://developer.mozilla.org/en-US/docs/Web/API/Web_Audio_API/Best_practices)

 - cela signifie essentiellement que vous ne pouvez pas lire 
automatiquement l'audio lorsqu'une page se charge ‚Äî vous devez permettre
 √† vos utilisateurs de d√©clencher la lecture audio par le biais d'un 
contr√¥le comme un bouton. Cette mesure est prise parce que la lecture 
automatique de l'audio est g√©n√©ralement tr√®s ennuyeuse et que nous ne 
devrions pas y soumettre nos utilisateurs.

Dans le cadre de notre application, nous allons devoir demander au user de bien vouloir accepter d'authoriser l'application √† lui envoyer des notifications. 

**Requ√™tes silencieuses**

Certaines fonctionnalit√©s de la sp√©cification HTML permettent de demander au navigateur d‚Äô√©mettre des requ√™tes silencieuses sans passer par l‚Äôex√©cution de code
JavaScript ou CSS. Comme tout comportement qui conduit le navigateur
d‚Äôune victime √† initier une connexion de mani√®re silencieuse, ces
requ√™tes sont potentiellement ind√©sirables et pr√©sentent des
risques allant de la fuite d‚Äôinformations jusqu‚Äô√† l‚Äôexploitation
de failles CSRF en passant par la r√©alisation d‚Äôattaques par d√©ni
de service distribu√© (DDoS).

Exemple : 
Ce genre de fonctionnalit√© est l‚Äôattribut ping. Une balise HTML peut, si
celle-ci pr√©sente un attribut href, comporter un attribut ping en
compl√©ment. L‚Äôattribut ping contient alors une liste d‚ÄôURLs vers
lesquelles seront r√©alis√©es des requ√™tes POST lorsque le lien sera
cliqu√©. Les URLs d√©finies par l‚Äôattribut ping peuvent se situer
en dehors de l‚ÄôOrigin et son utilisation rel√®ve g√©n√©ralement du
tracking publicitaire.

**Sanitization**¬†: 
C'est l‚Äôaction de nettoyer, dans le sens ou elle permet de mettre en
place un filtre afin de traiter les informations re√ßues et
voir si elle correspondent plus au moins au r√©sultat attendu.

Exemple :
Dans le cas d‚Äôun formulaire d‚Äôinscription, la sanitization
met un filtre afin de v√©rifier que dans le champs email, il s‚Äôagit
bel et bien d‚Äôun email entr√© dans le champ.


## Politique de s√©curit√© des mots de passe

### R-20 Mettre en place une politique de s√©curit√© des mots de passe

Les mots de passe pr√©sentent de nombreuses limites √† la fois du point de vue de leur utilisation et de leur gestion.

On peut distinguer trois cat√©gories de mots de passe :
- Les mots de passe devant √™tre m√©moris√©s:
Mot de passe ma√Ætre d‚Äôun coffre-fort de mots de passe, d‚Äôune session Windows, etc. 
Ces mots de passe doivent √™tre m√©moris√©s et suffisamment robustes au vu de leur criticit√©, mais ils sont peu nombreux √† retenir. Cette cat√©gorie de mot de passe √©tant la plus critique, il est pertinent qu‚Äôelle soit associ√©e √† un second facteur d‚Äôauthentification.
- Les mots de passe pouvant ne pas √™tre m√©moris√©s :
Concerne les mots de passe pouvant √™tre g√©n√©r√©s et conserv√©s par des coffres-forts de mots de passe, comme les mots de passe associ√©s √† des comptes de r√©cup√©ration.
- Les num√©ros d‚Äôidentification personnels, (codes PIN) qui sont v√©rifi√©s localement au sein d‚Äôun composant physique de s√©curit√©. G√©n√©ralement accompagn√©s de mesures tr√®s restrictives sur le nombre d‚Äô√©checs d‚Äôauthentification autoris√©s.


**Longueur des mots de passe**

La robustesse d‚Äôun mot de passe est g√©n√©ralement mesur√©e au moyen de l‚Äôentropie, exprim√©e en bits. L‚Äôentropie d‚Äôun mot de passe peut √™tre estim√©e en calculant l‚Äôensemble des mots de passe possibles pour une longueur donn√©e et une complexit√© donn√©e. 
Il est souvent plus efficace d‚Äôallonger un mot de passe que de chercher √† le rendre plus complexe pour en augmenter l‚Äôentropie. 
D√©finir une longueur minimale permet d‚Äôavoir un certain contr√¥le sur le niveau de s√©curit√© apport√© par les mots de passe lors de leur cr√©ation par les utilisateurs.

### R21 - Imposer une longueur minimale pour les mots de passe

Il est recommand√© de d√©finir une longueur minimale pour les mots de passe lors de leur cr√©ation en fonction du niveau de s√©curit√© vis√© par le syst√®me d‚Äôinformation

### R22 - Ne pas imposer de longueur maximale pour les mots de passe

Selon les syst√®mes, il est recommand√© de ne pas fixer de limite √† la longueur maximale d‚Äôun mot de passe afin de permettre aux utilisateurs d‚Äôavoir recours √† des phrases de passe ou longs mots de passe.

En pratique selon les syst√®mes utilis√©s il para√Æt n√©anmoins raisonnable de fixer une valeur limite (plusieurs centaines de caract√®res par exemple) afin de ne pas s‚Äôexposer √† de potentielles attaques en d√©ni de service.

### R23 - Mettre en ≈ìuvre des r√®gles sur la complexit√© des mots de passe

Au moment de la cr√©ation ou du renouvellement d‚Äôun mot de passe par un utilisateur, il est re-command√© de mettre en ≈ìuvre des r√®gles de complexit√© tout en proposant un jeu de caract√®res le plus large possible.

### R24 - Ne pas imposer par d√©faut de d√©lai d'expiration sur les mots de passe des comptes non sensibles

Si la politique de mots de passe exige des mots de passe robustes et que les syst√®mes permettent son impl√©mentation, alors il est recommand√© de ne pas imposer par d√©faut de d√©lai d‚Äôexpiration sur les mots de passe des comptes non sensibles comme les comptes utilisateur

### R25 - Imposer un d√©lai d'expiration sur les mots de passe des comptes √† privil√®ges

Il est recommand√© d‚Äôimposer un d√©lai d‚Äôexpiration sur les mots de passe des comptes tr√®s sen-sibles comme les comptes administrateurs. Ce d√©lai d‚Äôexpiration peut par exemple √™tre fix√© √† une dur√©e comprise entre 1 et 3 ans.

### R26 - R√©voquer imm√©diatement les mots de passe en cas de compromission suspect√©e ou av√©r√©e

En cas de compromission suspect√©e ou av√©r√©e d‚Äôun syst√®me d‚Äôauthentification, tous les mots de passe concern√©s par ce syst√®me doivent √™tre renouvel√©s imm√©diatement (de l‚Äôordre de la jour-n√©e). Au-del√† de ce d√©lai, les comptes concern√©s doivent √™tre d√©sactiv√©s et une proc√©dure de r√©-activation pour les utilisateurs doit √™tre mise en ≈ìuvre.

Contr√¥le de la robustesse des mots de passe

### R27 - Mettre en place un contr√¥le de la robustesse des mots de passe lors de leur cr√©ation ou de leur renouvellement

Il est recommand√© de proc√©der √† un contr√¥le automatis√© et syst√©matique de la robustesse des mots de passe au moment de leur cr√©ation ou de leur renouvellement.

De nombreux contr√¥les permettent de s‚Äôassurer que les mots de passe ainsi cr√©√©s offrent une ro-bustesse en accord avec le niveau de s√©curit√© souhait√©, par exemple :

- v√©rifier que les mots de passe respectent bien les r√®gles d√©finies dans la politique de s√©curit√© des mots de passe ; 
- comparer les mots de passe lors de leur cr√©ation √† des mots de passe les plus utilis√©s ou bien ceux qui ont √©t√© compromis ; 
- rep√©rer les mots de passe contenant des motifs (ou des r√©p√©titions) sp√©cifiques ( ¬´ 12345 ¬ª¬´ azerty ¬ª, etc); 
- rep√©rer les mots de passe contenants des informations personnelles, comme les noms et pr√©-noms ou encore les dates de naissance; 
- lors d‚Äôun renouvellement du mot de passe, interdire la r√©utilisation d‚Äôun mot de passe parmi les X derniers mots de passe d√©j√† utilis√©s.


**Stockage des mots de passe**

Le stockage des mots de passe des utilisateurs doit √™tre r√©alis√© de mani√®re s√©curis√©e.

En cas de compromission de cette base, les mots de passe seront directement r√©v√©l√©s s‚Äôils sont stock√©s en clair. Ainsi, ce sont les empreintes des mots de passe qu‚Äôil faut conserver plut√¥t que les mots de passe eux-m√™mes. 

Le stockage des mots de passe en clair doit √™tre absolument proscrit. Ces empreintes, aussi appel√©es hach√©s, sont le r√©sultat d‚Äôune fonction de hachage cryptographique (comme les familles SHA2 (Secure Hash Algorithm) ou SHA3) appliqu√©e aux mots de passe.
Les fonctions de hachage cryptographique qui permettent de calculer ces empreintes sont d√©ter-ministes. Autrement dit, l‚Äôempreinte d‚Äôun m√™me mot de passe calcul√©e avec la m√™me fonction de hachage sera toujours la m√™me. 

Il peut √™tre alors possible de pr√©calculer des tables de correspondance entre les mots de passe courants et leurs empreintes respectives pour diff√©rentes fonctions de hachage, ce qui acc√©l√®re fortement le ¬´ cassage ¬ª des mots de passe. L‚Äôajout d‚Äôune valeur al√©atoire unique (commun√©ment appel√©e un sel) lors du calcul de l‚Äôempreinte du mot de passe permet de se pr√©munir contre des attaquants utilisant des tables pr√©calcul√©es.

### R28 - Utiliser un sel al√©atoire long

Les fonctions de hachage cryptographique recommand√©es, comme la famille SHA2, sont des fonc-tions tr√®s rapides √† ex√©cuter, ce qui, dans le contexte du stockage des mots de passe, est un avan-tage pour les attaquants. Il est recommand√© d‚Äôutiliser des fonctions de d√©rivation de mots de passe dites memory-hard permettant √† la fois d‚Äôaugmenter le temps d‚Äôex√©cution mais aussi l‚Äôespace m√©moire lors du calcul d‚Äôune empreinte. L‚Äôutilisation de telles fonctions correctement param√©tr√©es permet un important ralentissement des attaques par force brute tout en ayant un impact n√©gli-geable sur les services l√©gitimes ne devant ex√©cuter qu‚Äôun petit nombre de calculs d‚Äôempreintes. 


**Recouvrement d'un acc√®s**


### R30 - Proposer une m√©thode de recouvrement d'acc√®s

Afin de permettre aux utilisateurs de retrouver un acc√®s √† leur compte, il est recommand√© de mettre en place une m√©thode de recouvrement d‚Äôacc√®s adapt√©e au contexte d‚Äôutilisation.

### R31 - Mettre √† disposition un coffre-fort de mots de passe

Il est recommand√© que les responsables du syst√®me d‚Äôinformation mettent √† disposition des utili-sateurs un coffre-fort de mots de passe et les forment √† son utilisation.


**Recommandations √† destination des utilisateurs**

### R32 - Utiliser des mots de passe robustes

### R33 - Utiliser un mot de passe diff√©rent pour chaque service

### R34 - Utiliser un coffre-fort de mots de passe

### R35 - Prot√©ger ses mots de passe

### R36 - Utiliser un mot de passe robuste pour l'acc√®s √† sa messagerie √©lectronique

### R37 - Choisir un mot de passe sans information personnelle

### R38 - Modifier les mots de passe par d√©faut


## Authentification et Authorisation

 ¬´ L‚Äôidentification est l‚Äôaction consistant √† identifier un objet ou un individu. ¬ª
¬´ L‚Äôauthentification est un processus permettant au syst√®me de s‚Äôassurer de la l√©gitimit√© de la demande d‚Äôacc√®s faite par une entit√© [‚Ä¶] afin d‚Äôautoriser l‚Äôacc√®s de cette entit√© √† des ressources du syst√®me. ¬ª Par exemple, en comparant le mot de passe saisi avec celui stock√© dans la base de donn√©es.
¬´ L‚Äôautorisation est la fonction sp√©cifiant les droits d‚Äôacc√®s vers les ressources. ¬ª

## S√©curisation de l‚Äôauthentification

**Authentification multifacteurs:**

L‚Äôauthentification multifacteur d√©coule de la n√©cessit√© de renforcer la s√©curit√© apport√©e par l‚Äôutilisation d‚Äôun unique facteur d‚Äôauthentification, particuli√®rement lorsqu‚Äôil s‚Äôagit d‚Äôun mot de passe utilis√© seul. Ainsi m√™me si ce dernier est compromis, un facteur suppl√©mentaire d‚Äôun type diff√©rent est requis afin de s‚Äôauthentifier.

Un facteur d‚Äôauthentification est donc un facteur li√© √† une personne, relevant de diverses cat√©gories :

**Facteur de connaissance:**
¬´ ce que je sais ¬ª, il s‚Äôagit d‚Äôune connaissance devant √™tre m√©moris√©e telle qu‚Äôune phrase de passe, un mot de passe, un code etc...

**Facteur de possession:**
¬´ ce que je poss√®de ¬ª, il s‚Äôagit d‚Äôun √©l√©ment secret non m√©morisable contenu dans un objet physique qui id√©alement prot√®ge cet √©l√©ment de toute extraction, tel qu‚Äôune carte √† puce, un token, un t√©l√©phone etc...

**Facteur inh√©rent:**
¬´ ce que je suis ¬ª, il s‚Äôagit d‚Äôune caract√©ristique physique intrins√®quement li√©e √† une personne et indissociable de la personne elle-m√™me, telle qu‚Äôune caract√©ristique biologique (ADN), morphologique (empreinte digitale, empreinte r√©tinienne) ou comportementale (voix, frappe au clavier).

La principale menace contre laquelle l‚Äôauthentification cherche √† se prot√©ger est l‚Äôusurpation d‚Äôidentit√©, qui consiste pour un attaquant √† se faire passer pour un utilisateur l√©gitime aupr√®s du v√©rifieur.

Il est possible de distinguer deux grands types d‚Äôattaquants.
- Attaquant en ligne : l‚Äôattaquant peut uniquement interagir avec le serveur d‚Äôauthentification pour tenter de retrouver une valeur secr√®te (un mot de passe ou une cl√© priv√©e par exemple).
Il doit par exemple √™tre capable d‚Äôinteragir avec un serveur Web afin de r√©aliser son attaque. Se prot√©ger contre des attaquants en ligne n√©cessite de mettre en place des mesures sp√©cifiques,
comme le blocage temporaire de l‚Äôacc√®s au compte pendant plusieurs secondes, voire minutes,
apr√®s un certain nombre d‚Äôessais infructueux.
- Attaquant hors ligne : l‚Äôattaquant peut interagir avec le serveur d‚Äôauthentification, et a √©galement acc√®s aux donn√©es permettant au v√©rifieur de contr√¥ler l‚Äôidentit√© du prouveur (par
exemple des empreintes de mots de passe ou une cl√© publique). L‚Äôattaquant n‚Äôa pas besoin d‚Äôinteragir avec le serveur pour r√©aliser son attaque et a alors acc√®s √† une puissance de calcul potentiellement tr√®s importante.

Se prot√©ger contre des attaquants hors ligne n√©cessite que le v√©rifieur prot√®ge correctement les donn√©es permettant de contr√¥ler l‚Äôidentit√© des utilisateurs lors de l‚Äôauthentification, par exemple en utilisant des fonctions de hachage d√©di√©es pour le stockage des mots de passe ou en utilisant des protocoles d‚Äôauthentification consid√©r√©s comme forts.

De nombreux types d‚Äôattaques peuvent √™tre men√©s contre un protocole d‚Äôauthentification pour parvenir √† usurper une identit√©. Nous pouvons citer :

- Les attaques par force brute : tests automatis√©s de tous les mots de passe et de toutes les cl√©s cryptographiques possibles.

- Les attaques sur le protocole d‚Äôauthentification : attaques de l‚Äôhomme-du-milieu, attaques par rejeu, exploitation de vuln√©rabilit√© de l‚Äôimpl√©mentation etc...

- Le vol du moyen d‚Äôauthentification : vol d‚Äôune carte √† puce, r√©cup√©ration d‚Äôun mot de passe par hame√ßonnage, manipulation par l‚Äôing√©nierie sociale, etc...

Certains protocoles d‚Äôauthentification prennent en compte ces diff√©rentes attaques alors que d‚Äôautres m√©thodes n√©cessitent des mesures compl√©mentaires afin d‚Äôen att√©nuer les cons√©quences.

### Facteurs de connaissance:

Les principales menaces pesant sur les facteurs de connaissance sont la d√©duction (au moyen d‚Äôattaques par recherche exhaustive ou par dictionnaire par exemple), l‚Äôhame√ßonnage, l‚Äô√©coute (dans
le cas o√π l‚Äôenvoi du facteur de connaissance est effectu√© au travers d‚Äôun canal non prot√©g√©), etc...

Les mots de passe, souvent choisis par les utilisateurs, font ainsi face √† des attaques sp√©cifiques :

- Attaque par recherche exhaustive. Cette attaque consiste √† choisir un ensemble de caract√®res et √† tester automatiquement toutes les combinaisons possibles de ces caract√®res. Une variante
de cette attaque, d√©sign√©e par l‚Äôexpression anglaise password spraying, consiste √† effectuer des tests automatis√©s d‚Äôun nombre r√©duit de mots de passe (par exemple √† partir d‚Äôune liste de
mots de passe tr√®s utilis√©s) mais pour un grand nombre d‚Äôidentifiants possibles (ou de comptes de diff√©rents service web par exemple).

- Attaque par dictionnaire. Cette attaque consiste √† faire l‚Äôhypoth√®se que le mot de passe recherch√© est un mot du dictionnaire d‚Äôune langue donn√©e et √† tester automatiquement chacun de ces mots. Des dictionnaires plus aboutis int√®grent √©galement des variations courantes sur les mots du dictionnaire (transformation de a en @ par exemple), une liste des mots de passe ou des phrases de passe les plus utilis√©s ou bien encore une combinaison (concat√©nation, etc.) de mots connus.

- Attaque par tables pr√©-calcul√©es (par exemple les rainbow tables). Cette attaque consiste √†
calculer √† l‚Äôavance 3 les empreintes cryptographiques d‚Äôun tr√®s vaste ensemble de mots de passe afin d‚Äôacc√©l√©rer leur recherche, puis de comparer automatiquement chacune d‚Äôentre elles √† une empreinte vol√©e jusqu‚Äô√† trouver une √©galit√© qui prouvera que le mot de passe recherch√© a √©t√© trouv√©.

- Attaque par ing√©nierie sociale. Cette attaque consiste √† r√©cup√©rer un mot de passe par des moyens d√©tourn√©s comme l‚Äôhame√ßonnage ou bien l‚Äôusurpation d‚Äôidentit√©.

### Facteurs de possession:

Les principales menaces pesant sur les facteurs de possession sont le vol, la perte, la duplication, la falsification ou bien encore la compromission totale de l‚Äô√©quipement qui porte le facteur de possession. Afin de r√©aliser une usurpation d‚Äôidentit√©, les attaquants vont chercher √† r√©cup√©rer les secrets cryptographiques contenus dans le facteur de possession via par exemple des attaques par canaux auxiliaires.

### Facteurs inh√©rent:

Les principales menaces pesant sur les facteurs inh√©rents (couramment appel√©s facteurs biom√©triques) visent √† leurrer le m√©canisme de reconnaissance biom√©trique en usurpant l‚Äôidentit√© de la
personne physique, par exemple par la pr√©sentation d‚Äôune photographie ou d‚Äôune s√©quence vid√©o pr√©enregistr√©e ou alt√©r√©e, ou d‚Äôun moulage de l‚Äôempreinte digitale.

**Authentification forte VS authentification multifacteur:**

Il convient de diff√©rencier authentification multifacteur et authentification forte.
D‚Äôune part, une authentification multifacteur est une authentification faisant intervenir plusieurs cat√©gories
de facteurs.
N√©anmoins, ces facteurs, pris ind√©pendamment ou ensemble, ne sont pas forc√©ment consid√©r√©s comme √©tant forts (un exemple typique √©tant un mot de passe associ√© √† un code temporaire re√ßu par SMS). D‚Äôautre part, une authentification forte (qui repose g√©n√©ralement sur un facteur unique) est une authentification reposant sur un m√©canisme cryptographique dont les param√®tres et la s√©curit√© sont jug√©s robustes (l‚Äô√©l√©ment secret est alors g√©n√©ralement une cl√© cryptographique).

Les protocoles d‚Äôauthentification que l‚Äôon peut consid√©rer comme forts reposent souvent sur des protocoles dits d√©fi-r√©ponse.
Le message envoy√© par le prouveur pour s‚Äôauthentifier d√©pend √† la fois d‚Äôune cl√© secr√®te, mais aussi d‚Äôun d√©fi variable envoy√© par le v√©rifieur. Lorsqu‚Äôun prouveur souhaite prouver son identit√© √† un v√©rifieur, ce dernier lui envoie alors un d√©fi (une valeur al√©atoire par exemple) et le prouveur doit lui transmettre une r√©ponse calcul√©e √† partir de ce d√©fi sp√©cifique
(une signature de ce d√©fi par exemple).

Afin d‚Äô√™tre consid√©r√©e comme forte, une authentification doit reposer sur un protocole cryptographique permettant de r√©sister √† certaines attaques comme :
- L‚Äô√©coute clandestine (eavesdroppping en anglais), qui consiste pour un attaquant √† passivement √©couter le canal de communication entre le prouveur et le v√©rifieur.
-Les attaques par rejeu, qui consistent pour un attaquant √† r√©cup√©rer des informations d‚Äôauthentification (comme un mot de passe ou son empreinte) et √† utiliser ces informations pour les rejouer afin d‚Äôusurper l‚Äôidentit√© de la cible (l‚Äôattaque pass-the-hash en est un exemple).
- Les attaques de l‚Äôhomme-du-milieu, qui consistent pour un attaquant √† intercepter et modifier
les communications se d√©roulant entre le prouveur et le v√©rifieur lors de l‚Äôauthentification sans
√™tre d√©tect√©.
-La non-forgeabilit√© : l‚Äôobservation par un attaquant de plusieurs √©changes d‚Äôauthentification d‚Äôun
prouveur ne doit pas lui permettre d‚Äôusurper son identit√© dans un nouvel √©change d‚Äôauthentification.

Parmi les exemples d‚Äôauthentification forte reposant sur un facteur de possession, on peut citer :
- L‚Äôauthentification par certificats (stock√©s dans des cartes √† puce par exemple).
- Les protocoles FIDO2 et FIDO U2F.
- Les protocoles d‚ÄôOTP (One-Time Password) comme HOTP (HMAC-based OTP [32]), TOTP (Timebased OTP [34]) ou OCRA (OATH Challenge-Response Algorithm).

Dans chacun de ces cas, le prouveur prouve son identit√© au v√©rifieur en d√©montrant indirectement la possession d‚Äôune cl√© cryptographique qui doit rester secr√®te.

Parmi les exemples d‚Äôauthentification forte reposant sur un facteur de connaissance, on peut citer :
- Le protocole Kerberos.
- Les protocoles de type PAKE (Password-Authenticated Key Agreement) comme SPAKE2 ou OPAQUE.

On peut ainsi diff√©rencier une authentification multifacteur ¬´ faible ¬ª d‚Äôune authentification multifacteur forte lorsque cette derni√®re fait intervenir au moins un facteur d‚Äôauthentification consid√©r√© comme fort.
